[supervisord]
nodaemon=true

[program:xvfb]
command=/usr/bin/Xvfb :1 -screen 0 1024x768x16
autorestart=true

[program:x11vnc]
command=/usr/bin/x11vnc -display :1 -forever -shared -nopw
autorestart=true
startretries=10

[program:novnc]
command=websockify --web=/usr/share/novnc/ 3000 localhost:5900
autorestart=true

[program:mt5]
command=python3 /Metatrader/start.py
autorestart=true
stdout_logfile=/var/log/supervisor/mt5.log
stderr_logfile=/var/log/supervisor/mt5.err

[program:api]
command=python3 -m uvicorn api.main:app --host 0.0.0.0 --port 8000
directory=/app
autorestart=true
stdout_logfile=/var/log/supervisor/api.log
stderr_logfile=/var/log/supervisor/api.err
